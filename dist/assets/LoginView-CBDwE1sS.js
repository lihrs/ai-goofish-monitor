import{d as $,r as i,u as b,c,a as s,w as t,b as f,e as a,f as u,g as k,_,t as p,h as N,i as h,j as q,k as B,o as v}from"./index-DH6y1Cde.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-By5zhDLs.js";import{_ as C,a as L}from"./CardContent.vue_vue_type_script_setup_true_lang-AENY5R10.js";import{_ as j,a as R,b as S,c as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-CXt5JSnn.js";const A={class:"flex items-center justify-center min-h-screen bg-gray-100"},D={class:"grid gap-2"},E={class:"grid gap-2"},M={key:0,class:"text-sm text-red-500 font-medium"},H=$({__name:"LoginView",setup(P){const o=i(""),r=i(""),n=i(!1),l=i(""),{login:x}=b(),w=q(),y=B();async function V(){if(!o.value||!r.value){l.value="请输入用户名和密码";return}n.value=!0,l.value="";try{if(await x(o.value,r.value)){const e=y.query.redirect||"/";w.push(e)}else l.value="登录失败：用户名或密码错误"}catch{l.value="登录过程中发生错误"}finally{n.value=!1}}return(m,e)=>(v(),c("div",A,[s(a(L),{class:"w-full max-w-md"},{default:t(()=>[s(a(j),null,{default:t(()=>[s(a(R),{class:"text-2xl text-center"},{default:t(()=>[...e[2]||(e[2]=[u("系统登录",-1)])]),_:1}),s(a(S),{class:"text-center"},{default:t(()=>[...e[3]||(e[3]=[u(" 请输入您的管理员凭证以继续 ",-1)])]),_:1})]),_:1}),f("form",{onSubmit:h(V,["prevent"])},[s(a(C),{class:"grid gap-4"},{default:t(()=>[f("div",D,[s(a(_),{for:"username"},{default:t(()=>[...e[4]||(e[4]=[u("用户名",-1)])]),_:1}),s(a(g),{id:"username",type:"text",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=d=>o.value=d),placeholder:"admin",required:""},null,8,["modelValue"])]),f("div",E,[s(a(_),{for:"password"},{default:t(()=>[...e[5]||(e[5]=[u("密码",-1)])]),_:1}),s(a(g),{id:"password",type:"password",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=d=>r.value=d),required:""},null,8,["modelValue"])]),l.value?(v(),c("div",M,p(l.value),1)):k("",!0)]),_:1}),s(a(U),null,{default:t(()=>[s(a(N),{class:"w-full",type:"submit",disabled:n.value},{default:t(()=>[u(p(n.value?"登录中...":"登录"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]))}});export{H as default};
